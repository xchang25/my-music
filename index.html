<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>QMusic Hub</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div class="app">
      <aside class="sidebar glass">
        <div class="logo-wrap">
          <div class="logo">♫</div>
          <div>
            <div class="logo-title">QMusic Hub</div>
            <div class="logo-sub">Immersive Player</div>
          </div>
        </div>

        <nav class="menu">
          <button class="menu-btn active" data-view="discover" type="button">发现</button>
          <button class="menu-btn" data-view="search" type="button">搜索</button>
          <button class="menu-btn" data-view="rank" type="button">排行榜</button>
          <button class="menu-btn" data-view="library" type="button">我的音乐</button>
        </nav>

        <div class="auth glass-soft">
          <div class="section-title">登录保护</div>
          <input id="password" type="password" placeholder="输入 APP_PASSWORD" />
          <div class="row">
            <button id="btnLogin" class="btn btn-primary" type="button">登录</button>
            <button id="btnLogout" class="btn btn-ghost" type="button">退出</button>
          </div>
          <div id="authState" class="tips">未登录</div>
        </div>
      </aside>

      <main class="main">
        <header class="top glass">
          <div>
            <h1>在线音乐播放器</h1>
            <p>搜索、榜单、播放队列、实时歌词，全流程沉浸体验。</p>
          </div>

          <div class="top-tools">
            <label class="quality-inline">
              <span>音质</span>
              <select id="qualityGlobal">
                <option value="128k">128k</option>
                <option value="320k" selected>320k</option>
                <option value="flac">flac</option>
                <option value="flac24bit">flac24bit</option>
              </select>
            </label>
            <span class="pill" id="topAuthBadge">未登录</span>
            <button id="btnTheme" class="btn btn-ghost" type="button">切换主题</button>
          </div>
        </header>

        <section class="hero glass" id="heroCard">
          <div>
            <h2 id="heroTitle">现在就听</h2>
            <p id="heroDesc">输入关键词开始探索音乐，或从热榜直接播放。</p>
            <div class="chips">
              <button class="chip" data-demo="1974443814" data-platform="netease" type="button">网易云示例</button>
              <button class="chip" data-demo="003aAYrm3GE0Ac" data-platform="qq" type="button">QQ示例</button>
              <button class="chip" data-demo="228908" data-platform="kuwo" type="button">酷我示例</button>
            </div>
          </div>
          <div id="coverHero" class="cover-lg">♫</div>
        </section>

        <div class="workspace">
          <section class="panel glass" id="panel-discover">
            <h3>快速入口</h3>
            <div class="quick-grid">
              <button class="quick-item" data-jump="search" type="button">🔎 搜索歌曲</button>
              <button class="quick-item" data-jump="rank" type="button">🏆 热门榜单</button>
              <button class="quick-item" data-jump="library" type="button">❤️ 我的收藏</button>
              <button class="quick-item" data-jump="library" type="button">🕒 播放历史</button>
            </div>
            <div class="tips mt">提示：播放会自动加入队列，并支持上一首/下一首。</div>
          </section>

          <section class="panel glass hidden" id="panel-search">
            <h3>搜索</h3>
            <div class="form-grid">
              <label>
                平台
                <select id="searchPlatform">
                  <option value="netease">网易云</option>
                  <option value="qq">QQ音乐</option>
                  <option value="kuwo">酷我</option>
                </select>
              </label>
              <label>
                关键词
                <input id="keyword" placeholder="例如：周杰伦 稻香" />
              </label>
              <label>
                页码
                <input id="page" type="number" value="0" min="0" />
              </label>
              <label>
                每页
                <input id="pageSize" type="number" value="20" min="1" max="50" />
              </label>
            </div>
            <div class="row">
              <button id="btnSearch" class="btn btn-primary" type="button">开始搜索</button>
            </div>
            <div id="searchMsg" class="tips"></div>
            <div id="searchList" class="list"></div>
          </section>

          <section class="panel glass hidden" id="panel-rank">
            <h3>排行榜</h3>
            <div class="row wrap">
              <label>
                平台
                <select id="rankPlatform">
                  <option value="netease">网易云</option>
                  <option value="qq">QQ音乐</option>
                  <option value="kuwo">酷我</option>
                </select>
              </label>
              <button id="btnLoadToplists" class="btn btn-primary" type="button">加载榜单</button>
            </div>
            <div id="toplistMsg" class="tips"></div>

            <div class="rank-layout">
              <div>
                <h4>榜单列表</h4>
                <div id="toplistList" class="rank-list"></div>
              </div>
              <div>
                <h4 id="topSongsTitle">榜单歌曲</h4>
                <div id="topSongList" class="list compact"></div>
              </div>
            </div>
          </section>

          <section class="panel glass hidden" id="panel-library">
            <h3>我的音乐</h3>
            <div class="lib-grid">
              <div>
                <h4>收藏</h4>
                <div id="favList" class="list compact"></div>
              </div>
              <div>
                <h4>历史</h4>
                <div id="hisList" class="list compact"></div>
              </div>
            </div>
          </section>
        </div>
      </main>

      <aside class="right glass">
        <div class="now-card">
          <div id="coverMini" class="cover-sm">♫</div>
          <div class="now-title" id="songTitle">尚未播放</div>
          <div class="now-sub" id="nowArtist">请选择歌曲开始播放</div>
          <div class="row">
            <button id="btnFav" class="btn btn-ghost" type="button">收藏当前</button>
            <button id="btnAutoLyric" class="btn btn-ghost" type="button">歌词滚动：开</button>
          </div>
          <div id="parseMsg" class="tips"></div>
        </div>

        <div class="queue-card">
          <h4>播放队列</h4>
          <div id="queueList" class="queue-list"></div>
        </div>

        <div class="lyrics-card">
          <h4>实时歌词</h4>
          <div id="lyricsRealtime" class="lyrics-box">
            <div class="empty">暂无歌词，请先播放一首歌曲</div>
          </div>
        </div>
      </aside>
    </div>

    <footer class="player glass">
      <div class="meta">
        <div id="coverBar" class="cover-xs">♫</div>
        <div>
          <div id="miniTitle">未在播放</div>
          <div id="miniSub">登录后开始听歌</div>
        </div>
        <button id="btnDrawer" class="btn btn-ghost drawer-toggle" type="button">展开</button>
      </div>

      <div class="controls">
        <div class="row center">
          <button id="btnPrev" class="btn btn-ghost" type="button">上一首</button>
          <button id="btnPlayPause" class="btn btn-primary" type="button">播放</button>
          <button id="btnNext" class="btn btn-ghost" type="button">下一首</button>
          <button id="btnMode" class="btn btn-ghost" type="button">顺序</button>
        </div>
        <div class="progress-row">
          <span id="timeCurrent">00:00</span>
          <input id="progress" type="range" min="0" max="1000" value="0" />
          <span id="timeTotal">00:00</span>
        </div>
      </div>

      <div class="volume">
        <span>音量</span>
        <input id="volume" type="range" min="0" max="1" step="0.01" value="0.9" />
      </div>

      <audio id="playerAudio" preload="metadata"></audio>
    </footer>

    <script src="./app.js"></script>
  </body>
</html>
